@namespace demoVer.Shared
@inherits LayoutComponentBase
<div class="card-rough-container @CssClass" @attributes="AdditionalAttributes">
    <div class="card-rough-container top">
        <h4>總覽</h4>
        @if(showEditButton)
        {
            <button class="top-right-button" @onclick="openEditMenu">⋯</button>
        }
    </div>
    <div class="card-rough-container bottom">
        <div class="overview-inner-card">
            <div class="smallIcon">
                <img src="images/transmission-tower.png" alt="Transmission Tower" style="width:48px; height:48px" />
            </div>
            <div class="overview-inner-card rightPart">
                <div class="overview-inner-card valueBlock">
                    <div>輸入電壓：</div>
                    <div id="input_volt">220V</div>
                </div>
                <div class="overview-inner-card valueBlock">
                    <div>輸入頻率：</div>
                    <div id="input_freq">60Hz</div>
                </div>
            </div>
        </div>
        <div class="overview-inner-card">
            <div class="smallIcon">
                <img src="images/fridge.png" alt="Transmission Tower" style="width:48px; height:48px" />
            </div>
            <div class="overview-inner-card rightPart">
                <div class="overview-inner-card valueBlock">
                    <div>輸出電壓：</div>
                    <div id="output_volt">48</div>
                </div>
                <div class="overview-inner-card valueBlock">
                    <div>輸出頻率：</div>
                    <div id="output_freq">0Hz</div>
                </div>
            </div>
        </div>
        <div class="overview-inner-card">
            <div class="smallIcon">
                <img src="images/car-battery.png" alt="Transmission Tower" style="width:48px; height:48px" />
            </div>
            <div class="overview-inner-card rightPart">
                <div class="overview-inner-card valueBlock">
                    <div>電池電量：</div>
                    <div id="battery_level">30%</div>
                </div>
            </div>
        </div>
        <div class="overview-inner-card">
            <div class="smallIcon">
                <img src="images/charge.png" alt="Transmission Tower" style="width:48px; height:48px" />
            </div>
            <div class="overview-inner-card rightPart">
                <div class="overview-inner-card valueBlock">
                    <div>負載功率：</div>
                    <div id="Load_Watt">622KW</div>
                </div>
            </div>
        </div>
    </div>
</div>

@code
{
    [Parameter] public string CssClass {get; set; }
    [Parameter(CaptureUnmatchedValues  = true)] public Dictionary<string, object> AdditionalAttributes {get; set; }
    [Parameter] public bool showEditButton {get; set; }
    [Parameter] public EventCallback<string> Inform_Home_openEditMenu {get; set;}
    private async Task openEditMenu()
    {
        if(Inform_Home_openEditMenu.HasDelegate)
        {
            //Pass the razor component name to HOME, the name can be found definition in the HOME CardInfos List.
            await Inform_Home_openEditMenu.InvokeAsync("OverviewCard");
        }
    }

}